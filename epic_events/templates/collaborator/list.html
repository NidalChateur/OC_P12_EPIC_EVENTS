{% extends "base.html" %} 

{% block content %}
  <h1 class="text-center my-5">Collaborateurs</h1>

  <a href="{% url 'create_collaborator' %}" title="Ajouter">
    <button class="btn btn-success mb-3">
      <i class="bi bi-person-plus-fill"></i>
    </button>
  </a>

  <table class="table table-bordered text-center align-middle m-1">
    <thead>
      <tr class="table-secondary align-middle">
        <th scope="col">ID</th>
        <th scope="col">Nom</th>
        <th scope="col">DÃ©partement</th>
        <th scope="col">Action</th>
      </tr>
    </thead>

    <tbody>
      {% for collaborator in page_obj %}
      <tr>
        <td><a href="{% url 'collaborator' id=collaborator.id %}">{{collaborator.id}}</a></td>
        <td><a href="{% url 'collaborator' id=collaborator.id %}">{{collaborator.name}}</a></td>

        {% if collaborator.department %}
        <td><a href="{% url 'department' id=collaborator.department.id %}">{{collaborator.role}}</a></td>
        {% else %}
          <td>{{collaborator.role}}</td>
        {% endif %}
        <td>

          <a title="Modifier" href="{% url 'update_collaborator' id=collaborator.id %}" class="link-underline link-underline-opacity-0">
            <button class="btn btn-warning"><i class="bi bi-pencil-fill"></i></button>
          </a>

          <a title="Supprimer" href="{% url 'delete_collaborator' id=collaborator.id %}">
            <button class="btn btn-danger m-1"><i class="bi bi-person-x-fill"></i></button>
          </a>

        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% include 'partials/paginator.html' %}
  
{% endblock content %}
